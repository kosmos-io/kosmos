---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.11.0
  creationTimestamp: null
  name: promotepolicies.kosmos.io
spec:
  group: kosmos.io
  names:
    kind: PromotePolicy
    listKind: PromotePolicyList
    plural: promotepolicies
    singular: promotepolicy
  scope: Namespaced
  versions:
  - name: v1alpha1
    schema:
      openAPIV3Schema:
        description: PromotePolicy is custom resource that represents the capture
          of sync leaf cluster
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: PromotePolicySpec defines the desired state of promotePolicy
            properties:
              clusterName:
                description: Cluster is a cluster that needs to be migrated
                type: string
              excludedNamespaceScopedResources:
                description: ExcludedNamespaceScopedResources is a slice of namespace-scoped
                  resource type names to exclude from the backup. If set to "*", all
                  namespace-scoped resource types are excluded. The default value
                  is empty.
                items:
                  type: string
                nullable: true
                type: array
              excludedNamespaces:
                description: ExcludedNamespaces contains a list of namespaces that
                  are not included in the backup.
                items:
                  type: string
                nullable: true
                type: array
              includedNamespaceScopedResources:
                description: IncludedNamespaceScopedResources is a slice of namespace-scoped
                  resource type names to include in the backup. The default value
                  is "*".
                items:
                  type: string
                nullable: true
                type: array
              includedNamespaces:
                description: IncludedNamespaces is a slice of namespace names to include
                  objects from. If empty, all namespaces are included.
                items:
                  type: string
                nullable: true
                type: array
              rollback:
                description: Rollback set true, then rollback from the backup
                nullable: true
                type: string
            type: object
          status:
            description: PromotePolicyStatus defines the observed state of promotePolicy
            properties:
              backedupFile:
                type: string
              completionTimestamp:
                description: CompletionTimestamp records the time a sync was completed.
                  Completion time is recorded even on failed sync. The server's time
                  is used for CompletionTimestamps
                format: date-time
                nullable: true
                type: string
              failureReason:
                description: FailureReason is an error that caused the entire sync
                  to fail.
                type: string
              phase:
                description: Phase is the current state of the Backup.
                type: string
              precheckErrors:
                description: PrecheckErrors is a slice of all precheck errors (if
                  applicable).
                items:
                  type: string
                nullable: true
                type: array
              progress:
                description: Progress contains information about the sync's execution
                  progress. Note that this information is best-effort only -- if fails
                  to update it for any reason, it may be inaccurate/stale.
                nullable: true
                properties:
                  itemsBackedUp:
                    description: ItemsBackedUp is the number of items that have actually
                      been written to the backup tarball so far.
                    type: integer
                  totalItems:
                    description: TotalItems is the total number of items to be backed
                      up. This number may change throughout the execution of the backup
                      due to plugins that return additional related items to back
                      up, the velero.io/exclude-from-backup label, and various other
                      filters that happen as items are processed.
                    type: integer
                type: object
              startTimestamp:
                description: StartTimestamp records the time a sync was started. The
                  server's time is used for StartTimestamps
                format: date-time
                nullable: true
                type: string
            type: object
        type: object
    served: true
    storage: true
